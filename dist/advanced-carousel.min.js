!function(){"use strict";function e(e,o,n){function r(t,r,i,l){function a(){var e=null!==l.options.template?'template="'+l.options.template+'"':"";l.itemDirective=void 0===l.itemDirective?"carousel-generic-item":l.itemDirective;var t="<"+l.itemDirective+' ng-model="item" '+e+'on-select="vm.selectItem(item)" carousel-options="menuCarousel.options" ';return t+="></"+l.itemDirective+">"}function s(){var e=n.$getByHandle(l.options.carouselId).getScrollView(),t=e.__container,o=e.touchStart,r=e.touchMove;t.removeEventListener("touchstart",e.touchStart),document.removeEventListener("touchmove",e.touchMove),e.touchStart=function(t){t.preventDefault=function(){},r&&o.apply(e,[t])},e.touchMove=function(t){t.preventDefault=function(){},r&&r.apply(e,[t])},t.addEventListener("touchstart",e.touchStart,!1),document.addEventListener("touchmove",e.touchMove,!1)}l.el=r,angular.extend(l.options,l.carouselOptions),l.options.trackBy=void 0!==i.trackBy?i.trackBy:"$index",l.options.trackBystr="$index"===l.options.trackBy?"$index":"item."+l.options.trackBy,l.options.carouselId=void 0!==i.carouselId?i.carouselId:l.options.carouselId;var c=l.options.animateIn?" animateIn":"",u='<div class="a-carousel">';l.options.pullRefresh.active&&(u+='<div class="spinner-wrapper" ng-if="vm.options.pullRefresh.loading"><ion-spinner icon="android"></ion-spinner></div>',u+='<span class="pullrefresh-indicator"><svg viewBox="0 0 64 64"><g><circle stroke-width="6" stroke-dasharray="135.26261239144287" stroke-dashoffset="16.51371474556214" r="26" cx="32" cy="32" fill="none" transform="scale(1,1) translate(0,0) rotate(0,32,32)"></circle></g></svg></span>'),u+="<ion-scroll ",l.options.pullRefresh.active&&(u+='on-scroll="vm.onScroll()" '),u+='scrollbar-x="false" delegate-handle="'+l.options.carouselId+'" zooming="false" direction="x" overflow-scroll="'+l.options.overflowScroll+'" has-bouncing="'+l.options.hasBouncing+'"><nav style="visibility:hidden;"><ul> <li ng-repeat="item in vm.arrayProvider track by '+l.options.trackBystr+'"class="carousel-item'+c+'"ng-class="{\'active\':vm.itemActive === item}">'+a()+"</li></ul></nav></ion-scroll></div>",u=e(u)(t),r.append(u),o(function(){l.arrayProvider&&l.arrayProvider.length>0&&l.initCarousel(),s()},0)}return{restrict:"E",replace:!0,template:"",scope:{},link:r,controller:t,controllerAs:"vm",bindToController:{carouselId:"@",itemDirective:"@",carouselOptions:"=",arrayProvider:"=",onSelect:"&"}}}function t(e,t,o,n,r){function i(){function t(e,t){var n;"object"==typeof t?(n=t.carouselId,angular.extend(m.options,t)):n=t,n===m.options.carouselId&&o(m.initCarousel,0)}function n(e,t){var o=t.idContains,n=t.except;m.options.carouselId.indexOf(o)>=0&&m.options.carouselId!==n&&(m.itemActive=null)}angular.extend(m.options,m.carouselOptions),e.$on("a-carousel.arrayupdated",t),e.$on("a-carousel.desactivateItem",n),m.options.pullRefresh.active&&e.$on("a-carousel.pullrefresh.done",p)}function l(){function e(){var t=parseInt(i[l-1].offsetWidth),r=parseInt(i[l-1].offsetHeight);t>0&&r>0?n():(console.log("[INFO] Creating Carousel but DOM not ready yet..."),v<h?o(function(){e()},50):console.log("[ERROR] Size item Carousel could not be determined",m.options.carouselId),v++)}function n(){var e=null!==m.options.selectAtStart.property;m.navElem=t.find("nav");var o;angular.forEach(i,function(t){o=m.arrayProvider[f],o.carouselId=m.options.carouselId,u+=t.offsetWidth,m.options.widthItem=Math.max(t.offsetWidth,m.options.widthItem),m.options.heightItem=Math.max(t.offsetHeight,m.options.heightItem),m.arrayProvider[f].widthItem=t.offsetWidth,e&&-1===m.options.selectAtStart.index&&o[m.options.selectAtStart.property]===m.options.selectAtStart.value&&(m.options.selectAtStart.index=f),f+=1}),m.options.centerOnSelect?(m.options.maxScroll=m.navElem[0].offsetWidth-u,p=d=m.options.maxScroll/2,u+=d+p,"right"===m.options.align?r.$getByHandle(m.options.carouselId).scrollTo(-1*m.options.maxScroll,0,!1):"center"===m.options.align?r.$getByHandle(m.options.carouselId).scrollTo(-.5*m.options.maxScroll,0,!1):r.$getByHandle(m.options.carouselId).scrollTo(0,0,!0)):(u+=4,m.options.maxScroll=m.navElem[0].offsetWidth-u),m.options.widthCarousel=u,!e&&m.options.selectFirst?c("right"===m.options.align?m.arrayProvider[s-1]:m.arrayProvider[0]):e&&-1!==m.options.selectAtStart.index&&a(m.arrayProvider[m.options.selectAtStart.index]),m.navElem.css({width:u+"px",height:m.options.heightItem+"px",visibility:"visible","padding-left":d+"px"}),m.options.pullRefresh.active&&(m.pullrefreshIndicator=angular.element(document.querySelector(".a-carousel .pullrefresh-indicator")),m.svgElem=t.find("g"))}var i=t.find("li"),l=i.length,s=angular.element(i).length,u=0,d=0,p=0,f=0,v=0,h=15;if(m.itemActive=null,!(s>0))throw Error("Trying to create a carousel from an empty array",m.options);o(function(){e()},50)}function a(e){var t,o;if(c(e),m.options.centerOnSelect){var n=u(e);if(t=0,0===n)t=0;else for(o=0;o<n;o++)t+=.5*(m.arrayProvider[o].widthItem+m.arrayProvider[o+1].widthItem);r.$getByHandle(m.options.carouselId).scrollTo(t,0,!0)}}function s(){var e=r.$getByHandle(m.options.carouselId).getScrollPosition().left,t=0,o=0;if((m.options.maxScroll<0?e/m.options.maxScroll*-1:e/10)>1){t=(e- -1*m.options.maxScroll)/n.innerWidth,m.pullrefreshIndicator.css({transform:"translateX("+-56*o+"px)"})}t>.25&&e>0?(m.pullrefreshIndicator.css({transform:"translateX(0px)",display:"none"}),d()):(o=t/.2,m.svgElem[0].setAttribute("transform","rotate("+360*o+" 32 32)"),m.pullrefreshIndicator.css({transform:"translateX("+-56*o+"px)"}))}function c(t){m.itemActive=t,m.onSelect.call(null,{item:t}),e.$broadcast("a-carousel.itemselected",t)}function u(e){for(var t in m.arrayProvider)if(m.arrayProvider[t]===e)return t}function d(){m.options.pullRefresh.loading||(e.$apply(function(){m.options.pullRefresh.loading=!0}),r.$getByHandle(m.options.carouselId).freezeScroll(!0),m.navElem.css({width:m.options.widthCarousel+45+"px"}),r.$getByHandle(m.options.carouselId).resize(),m.options.pullRefresh.callBack())}function p(){m.options.pullRefresh.loading=!1,m.navElem.css({width:m.options.widthCarousel+"px"}),r.$getByHandle(m.options.carouselId).resize(),r.$getByHandle(m.options.carouselId).freezeScroll(!1),m.pullrefreshIndicator.css({transform:"translateX(0px)",display:"block"})}var m=this;m.options={showScroll:!1,carouselId:"my-carousel",template:null,align:"left",centerOnSelect:!0,widthItem:0,heightItem:0,trackBy:"$index",selectFirst:!0,selectAtStart:{property:null,value:null,index:-1},pullRefresh:{active:!1,callBack:angular.noop,loading:!1},animateIn:!1,overflowScroll:!1,hasBouncing:!0},m.initCarousel=l,m.selectItem=a,m.onScroll=s,i()}angular.module("aCarousel",[]).directive("aCarousel",e),e.$inject=["$compile","$timeout","$ionicScrollDelegate"],t.$inject=["$scope","$element","$timeout","$window","$ionicScrollDelegate"]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:function(e,t){return t.template},scope:{},controller:t,controllerAs:"vm",bindToController:{ngModel:"=",onSelect:"&",carouselOptions:"="}}}function t(e){function t(){e.$on("a-carousel.itemselected",function(e,t){o.selected=t===o.ngModel})}var o=this;o.selected=!1,t()}var o=document.getElementsByTagName("script");o[o.length-1].src;angular.module("aCarousel").directive("carouselGenericItem",e),t.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,template:'<a class="a-carousel-text-item"ng-bind="::vm.ngModel.display"ng-click="vm.onSelect({item:vm.ngModel})"></a>',scope:{},controller:t,controllerAs:"vm",bindToController:{ngModel:"=",onSelect:"&"}}}function t(e){function t(){e.$on("acarousel.itemselected",function(e,t){o.selected=t===o.ngModel})}var o=this;o.selected=!1,t()}angular.module("aCarousel").directive("carouselTextItem",e),t.$inject=["$scope"]}();